From e14a0577ace2c763ed160207dcbb020a27556b76 Mon Sep 17 00:00:00 2001
From: Dima Krasner <dima@dimakrasner.com>
Date: Thu, 31 Mar 2022 14:12:35 +0800
Subject: [PATCH] maximize the first window and make all others float

---
 dwl.c | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/dwl.c b/dwl.c
index 529dbf8..774fe39 100644
--- a/dwl.c
+++ b/dwl.c
@@ -457,6 +457,7 @@ applyrules(Client *c)
 	unsigned int i, newtags = 0;
 	const Rule *r;
 	Monitor *mon = selmon, *m;
+	Client *oc;
 
 	c->isfloating = client_is_float_type(c);
 	if (!(appid = client_get_appid(c)))
@@ -475,6 +476,14 @@ applyrules(Client *c)
 					mon = m;
 		}
 	}
+	c->isfullscreen = 1;
+	wl_list_for_each(oc, &clients, link) {
+		if (oc != c) {
+			c->isfloating = 1;
+			c->isfullscreen = 0;
+			break;
+		}
+	}
 	wlr_scene_node_reparent(c->scene, layers[c->isfloating ? LyrFloat : LyrTile]);
 	setmon(c, mon, newtags);
 }
