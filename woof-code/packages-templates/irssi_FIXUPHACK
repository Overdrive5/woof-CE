cat << EOF > usr/bin/irssi-shell
#!/bin/sh
exec run-as-spot irssi --config /etc/irssi-shell.conf
EOF
chmod 755 usr/bin/irssi-shell

cat << EOF > etc/irssi-shell.conf
servers = (
  {
    address = "irc.libera.chat";
    chatnet = "liberachat";
    port = "6697";
    use_tls = "yes";
    tls_verify = "yes";
    autoconnect = "yes";
  },
);

chatnets = {
  liberachat = {
    type = "IRC";
    max_kicks = "1";
    max_msgs = "4";
    max_whois = "1";
  };
};

channels = (
  {
    name = "#puppylinux";
    chatnet = "liberachat";
    autojoin = "yes";
    autosendcmd = "/window 2";
  }
);
EOF
chmod 444 etc/irssi-shell.conf

mkdir -p usr/share/applications
cat << EOF > usr/share/applications/irssi-shell.desktop
[Desktop Entry]
Name=#puppylinux Chat
Comment=Puppy Linux Support Chat
Exec=irssi-shell
Icon=/usr/share/pixmaps/puppy/chat.svg
Terminal=true
Type=Application
Categories=X-Internet-chat
EOF
chmod 644 usr/share/applications/irssi-shell.desktop

cat << EOF > pinstall.sh
echo '#!/bin/ash
exec irssi-shell' > usr/local/bin/defaultchat
EOF